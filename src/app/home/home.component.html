<!-- <app-header (searchUpdated)="updateSearch($event)"></app-header> -->

<div class="searchArea" style="padding-top: 120px;">
    <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input type="text" pInputText [(ngModel)]="searchTerm" (input)="filterSearch()" placeholder="Search.....">
    </span>
    <!-- <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input type="text" pInputText [(ngModel)]="searchQuery" (keyup.enter)="onSearch(searchQuery)"
            placeholder="Search.....">
    </span> -->
</div>

<div class="chipsTrend">
    <p-chip *ngFor="let label of chipLabels" [label]="label" (click)="logChipLabel(label)"></p-chip>
</div>


<p-toast />
<div *ngIf="isLoading" class="loading">
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)"
        animationDuration=".5s" />
</div>
<div class="cardss" *ngIf="!this.searchTerm">
    <p-card [style]="{ width: '320px' }" *ngFor="let video of adult">
        <ng-template pTemplate="header">
            <div class="thumbnail-container">
                <a [href]="video.videoUrl">
                    <img *ngIf="!video.isAnimationPlaying" alt="Card" [src]="video.imgUrl"
                        (mouseenter)="playAnimation(video.videoId)" />

                    <img *ngIf="video.isAnimationPlaying" [src]="selectedThumbs[currentThumbIndex]"
                        (mouseleave)="stopSlideshow(video.videoId)" />
                    <p class="gender-label">{{ video.length }}</p>
                </a>
            </div>
            <div class="details">
                <a [href]="video.videoUrl" class="ogTitle">{{ video.title }}</a>
                <p-menu #menu [model]="videoItem" [popup]="true" />
                <i (click)="menu.toggle($event)" (click)="selectedFav(video.videoId)" class="pi pi-ellipsis-v"></i>
                <!-- <p-chip label="Action"></p-chip> -->
            </div>
            <h4>{{ video.views | numberFormat }} Views</h4>
            <p style="display: none;">{{ video.keywords}}</p>
        </ng-template>
    </p-card>
</div>
<div class="cardss" *ngIf="this.searchTerm">
    <p-card [style]="{ width: '320px' }" *ngFor="let video of filteredSearch">
        <ng-template pTemplate="header">
            <div class="thumbnail-container">
                <a [href]="video.videoUrl">
                    <img *ngIf="!video.isAnimationPlaying" alt="Card" [src]="video.imgUrl"
                        (mouseenter)="playAnimation(video.videoId)" />

                    <img *ngIf="video.isAnimationPlaying" [src]="selectedThumbs[currentThumbIndex]"
                        (mouseleave)="stopSlideshow(video.videoId)" />
                    <p class="gender-label">{{ video.length }}</p>
                </a>
            </div>
            <div class="details">
                <a [href]="video.videoUrl" class="ogTitle">{{ video.title }}</a>
                <p-menu #menu [model]="videoItem" [popup]="true" />
                <i (click)="menu.toggle($event)" (click)="selectedFav(video.videoId)" class="pi pi-ellipsis-v"></i>
                <!-- <p-chip label="Action"></p-chip> -->
            </div>
            <h4>{{ video.views | numberFormat }} Views</h4>
            <p style="display: none;">{{ video.keywords}}</p>
        </ng-template>
    </p-card>
</div>

<div class="card flex justify-content-center">
    <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows" [totalRecords]="120"
        [rowsPerPageOptions]="[10, 20, 30, 40]" />
</div>
<router-outlet></router-outlet>